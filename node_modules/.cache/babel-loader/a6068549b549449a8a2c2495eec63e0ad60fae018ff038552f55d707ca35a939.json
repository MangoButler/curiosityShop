{"ast":null,"code":"var _jsxFileName = \"/Users/hegichristian/Documents/ReactCompleteGuide/FoodDeliveryTest/FoodDeliveryOwn/src/store/shopping-cart-context.js\",\n  _s = $RefreshSig$();\nimport React, { useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cartContext = /*#__PURE__*/React.createContext({\n  currentItems: [],\n  onAddItem: item => {},\n  onRemoveItem: item => {},\n  onPlaceOrder: () => {}\n});\nconst currentItemsReducer = (state, action) => {\n  //   if (action.type === \"ITEM_ADDED\") {\n  //     for (let item of state) {\n  //       if (item.name === action.item.name) {\n  //         item.amount += action.item.amount;\n  //         return state;\n  //       }\n  //     }\n  //     state.push(action.item);\n  //     return state;\n  //   }\n\n  if (action.type === \"ITEM_ADDED\") {\n    if (state.filter(item => item.name === action.item.name)) {\n      return state.map(item => {\n        if (item.name === action.item.name) {\n          item.amount += action.item.amount;\n        }\n        return item;\n      });\n    } else {\n      // return [ action.item ]\n      const newItems = state.push(action.item);\n      return newItems;\n    }\n  }\n  if (action.type === \"ITEM_REMOVED\") {\n    for (let item of state) {\n      if (item.name === action.item.name) {\n        item.amount += action.item.amount;\n        if (item.amount < 1) {\n          state.splice(state.findIndex(obj => obj.name === item.name), 1);\n        }\n        return state;\n      }\n    }\n    return state;\n  }\n  if (action.type === \"ORDER_PLACED\") {\n    console.log(\"Ordering\", state);\n    return [];\n  }\n};\nexport const CartContextProvider = props => {\n  _s();\n  const [currentItems, dispatchCurrentItems] = useReducer(currentItemsReducer, []);\n  const addItemHandler = item => {\n    dispatchCurrentItems({\n      type: \"ITEM_ADDED\",\n      item: item\n    });\n  };\n  const removeItemHandler = item => {\n    dispatchCurrentItems({\n      type: \"ITEM_REMOVED\",\n      item: item\n    });\n  };\n  const placeOrderHandler = () => {\n    dispatchCurrentItems({\n      type: \"ORDER_PLACED\"\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(cartContext.Provider, {\n    value: {\n      currentItems: currentItems,\n      onAddItem: addItemHandler,\n      onRemoveItem: removeItemHandler,\n      onPlaceOrder: placeOrderHandler\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n_s(CartContextProvider, \"kiPr3HHry9wqgY+oyVI9f69iiBI=\");\n_c = CartContextProvider;\nexport default cartContext;\nvar _c;\n$RefreshReg$(_c, \"CartContextProvider\");","map":{"version":3,"names":["React","useReducer","jsxDEV","_jsxDEV","cartContext","createContext","currentItems","onAddItem","item","onRemoveItem","onPlaceOrder","currentItemsReducer","state","action","type","filter","name","map","amount","newItems","push","splice","findIndex","obj","console","log","CartContextProvider","props","_s","dispatchCurrentItems","addItemHandler","removeItemHandler","placeOrderHandler","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/hegichristian/Documents/ReactCompleteGuide/FoodDeliveryTest/FoodDeliveryOwn/src/store/shopping-cart-context.js"],"sourcesContent":["import React, { useReducer } from \"react\";\n\nconst cartContext = React.createContext({\n  currentItems: [],\n  onAddItem: (item) => {},\n  onRemoveItem: (item) => {},\n  onPlaceOrder: () => {},\n});\n\nconst currentItemsReducer = (state, action) => {\n//   if (action.type === \"ITEM_ADDED\") {\n//     for (let item of state) {\n//       if (item.name === action.item.name) {\n//         item.amount += action.item.amount;\n//         return state;\n//       }\n//     }\n//     state.push(action.item);\n//     return state;\n//   }\n\n  if (action.type === \"ITEM_ADDED\") {\n    if (state.filter((item) => item.name === action.item.name)) {\n      return state.map((item) => {\n        if (item.name === action.item.name) {\n          item.amount += action.item.amount;\n        }\n        return item;\n      });\n    } else {\n    // return [ action.item ]\n    const newItems = state.push(action.item);\n    return newItems;\n    }\n  }\n\n  if (action.type === \"ITEM_REMOVED\") {\n    for (let item of state) {\n      if (item.name === action.item.name) {\n        item.amount += action.item.amount;\n        if (item.amount < 1) {\n          state.splice(\n            state.findIndex((obj) => obj.name === item.name),\n            1\n          );\n        }\n        return state;\n      }\n    }\n    return state;\n  }\n\n  if (action.type === \"ORDER_PLACED\") {\n    console.log(\"Ordering\", state);\n    return [];\n  }\n};\nexport const CartContextProvider = (props) => {\n  const [currentItems, dispatchCurrentItems] = useReducer(\n    currentItemsReducer,\n    []\n  );\n\n  const addItemHandler = (item) => {\n    dispatchCurrentItems({ type: \"ITEM_ADDED\", item: item });\n  };\n  const removeItemHandler = (item) => {\n    dispatchCurrentItems({ type: \"ITEM_REMOVED\", item: item });\n  };\n\n  const placeOrderHandler = () => {\n    dispatchCurrentItems({ type: \"ORDER_PLACED\" });\n  };\n\n  return (\n    <cartContext.Provider\n      value={{\n        currentItems: currentItems,\n        onAddItem: addItemHandler,\n        onRemoveItem: removeItemHandler,\n        onPlaceOrder: placeOrderHandler,\n      }}\n    >\n      {props.children}\n    </cartContext.Provider>\n  );\n};\nexport default cartContext;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}