{"ast":null,"code":"var _jsxFileName = \"/Users/hegichristian/Documents/ReactCompleteGuide/FoodDeliveryTest/FoodDeliveryOwn/src/store/shopping-cart-context.js\",\n  _s = $RefreshSig$();\nimport React, { useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cartContext = /*#__PURE__*/React.createContext({\n  currentItems: [],\n  onAddItem: item => {},\n  onRemoveItem: item => {},\n  onPlaceOrder: () => {}\n});\nconst currentItemsReducer = (state, action) => {\n  //   if (action.type === \"ITEM_ADDED\") {\n  //     for (let item of state) {\n  //       if (item.name === action.item.name) {\n  //         item.amount += action.item.amount;\n  //         return state;\n  //       }\n  //     }\n  //     state.push(action.item);\n  //     return state;\n  //   }\n\n  if (action.type === \"ITEM_ADDED\") {\n    if (state.some(item => item.name === action.item.name)) {\n      return state.map(item => {\n        if (item.name === action.item.name) {\n          item.amount += action.item.amount;\n        }\n        return item;\n      });\n    }\n    return [...state, action.item];\n  }\n\n  //   if (action.type === \"ITEM_REMOVED\") {\n  //     for (let item of state) {\n  //       if (item.name === action.item.name) {\n  //         item.amount += action.item.amount;\n  //         if (item.amount < 1) {\n  //           state.splice(\n  //             state.findIndex((obj) => obj.name === item.name),\n  //             1\n  //           );\n  //         }\n  //         return state;\n  //       }\n  //     }\n  //     return state;\n  //   }\n\n  if (action.type === \"ITEM_REMOVED\") {\n    if (state.some(item => item.name === action.item.name)) {\n      const newArray = state.map(item => {\n        if (item.name === action.item.name) {\n          item.amount += action.item.amount;\n        }\n        return item;\n      });\n      return newArray.filter(item => item.amount > 0);\n    }\n    return state;\n  }\n  if (action.type === \"ORDER_PLACED\") {\n    console.log(\"Ordering\", state);\n    return [];\n  }\n};\nexport const CartContextProvider = props => {\n  _s();\n  const [currentItems, dispatchCurrentItems] = useReducer(currentItemsReducer, []);\n  const addItemHandler = item => {\n    dispatchCurrentItems({\n      type: \"ITEM_ADDED\",\n      item: item\n    });\n  };\n  const removeItemHandler = item => {\n    dispatchCurrentItems({\n      type: \"ITEM_REMOVED\",\n      item: item\n    });\n  };\n  const placeOrderHandler = () => {\n    dispatchCurrentItems({\n      type: \"ORDER_PLACED\"\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(cartContext.Provider, {\n    value: {\n      currentItems: currentItems,\n      onAddItem: addItemHandler,\n      onRemoveItem: removeItemHandler,\n      onPlaceOrder: placeOrderHandler\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n_s(CartContextProvider, \"kiPr3HHry9wqgY+oyVI9f69iiBI=\");\n_c = CartContextProvider;\nexport default cartContext;\nvar _c;\n$RefreshReg$(_c, \"CartContextProvider\");","map":{"version":3,"names":["React","useReducer","jsxDEV","_jsxDEV","cartContext","createContext","currentItems","onAddItem","item","onRemoveItem","onPlaceOrder","currentItemsReducer","state","action","type","some","name","map","amount","newArray","filter","console","log","CartContextProvider","props","_s","dispatchCurrentItems","addItemHandler","removeItemHandler","placeOrderHandler","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/hegichristian/Documents/ReactCompleteGuide/FoodDeliveryTest/FoodDeliveryOwn/src/store/shopping-cart-context.js"],"sourcesContent":["import React, { useReducer } from \"react\";\n\nconst cartContext = React.createContext({\n  currentItems: [],\n  onAddItem: (item) => {},\n  onRemoveItem: (item) => {},\n  onPlaceOrder: () => {},\n});\n\nconst currentItemsReducer = (state, action) => {\n//   if (action.type === \"ITEM_ADDED\") {\n//     for (let item of state) {\n//       if (item.name === action.item.name) {\n//         item.amount += action.item.amount;\n//         return state;\n//       }\n//     }\n//     state.push(action.item);\n//     return state;\n//   }\n\n  if (action.type === \"ITEM_ADDED\") {\n    if (state.some(item => item.name === action.item.name)) {\n      return state.map((item) => {\n        if (item.name === action.item.name) {\n          item.amount += action.item.amount;\n        }\n        return item;\n      });\n    } \n    return [ ...state, action.item ]\n    \n  }\n\n//   if (action.type === \"ITEM_REMOVED\") {\n//     for (let item of state) {\n//       if (item.name === action.item.name) {\n//         item.amount += action.item.amount;\n//         if (item.amount < 1) {\n//           state.splice(\n//             state.findIndex((obj) => obj.name === item.name),\n//             1\n//           );\n//         }\n//         return state;\n//       }\n//     }\n//     return state;\n//   }\n\nif (action.type === \"ITEM_REMOVED\") {\n    if (state.some(item => item.name === action.item.name)) {\n        const newArray = state.map((item) => {\n          if (item.name === action.item.name) {\n            item.amount += action.item.amount;\n          }\n          return item;\n        });\n        return newArray.filter(item => item.amount > 0);\n      } \n    return state;\n  }\n\n  if (action.type === \"ORDER_PLACED\") {\n    console.log(\"Ordering\", state);\n    return [];\n  }\n};\n\nexport const CartContextProvider = (props) => {\n  const [currentItems, dispatchCurrentItems] = useReducer(\n    currentItemsReducer,\n    []\n  );\n\n  const addItemHandler = (item) => {\n    dispatchCurrentItems({ type: \"ITEM_ADDED\", item: item });\n  };\n  const removeItemHandler = (item) => {\n    dispatchCurrentItems({ type: \"ITEM_REMOVED\", item: item });\n  };\n\n  const placeOrderHandler = () => {\n    dispatchCurrentItems({ type: \"ORDER_PLACED\" });\n  };\n\n  return (\n    <cartContext.Provider\n      value={{\n        currentItems: currentItems,\n        onAddItem: addItemHandler,\n        onRemoveItem: removeItemHandler,\n        onPlaceOrder: placeOrderHandler,\n      }}\n    >\n      {props.children}\n    </cartContext.Provider>\n  );\n};\nexport default cartContext;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}