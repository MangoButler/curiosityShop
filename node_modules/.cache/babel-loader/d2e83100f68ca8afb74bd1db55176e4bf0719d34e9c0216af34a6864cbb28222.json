{"ast":null,"code":"var _jsxFileName = \"/Users/hegichristian/Documents/ReactCompleteGuide/FoodDeliveryTest/FoodDeliveryOwn/src/store/shopping-cart-context.js\",\n  _s = $RefreshSig$();\nimport React, { useReducer, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cartContext = /*#__PURE__*/React.createContext({\n  currentItems: [],\n  onAddItem: item => {},\n  onRemoveItem: item => {},\n  onPlaceOrder: () => {},\n  placedOrder: false,\n  setPlacedOrder: () => {}\n});\nconst currentItemsReducer = (state, action) => {\n  //   if (action.type === \"ITEM_ADDED\") {\n  //     for (let item of state) {\n  //       if (item.name === action.item.name) {\n  //         item.amount += action.item.amount;\n  //         return state;\n  //       }\n  //     }\n  //     state.push(action.item);\n  //     return state;\n  //   }\n\n  if (action.type === \"ITEM_ADDED\") {\n    if (state.some(item => item.name === action.item.name)) {\n      return state.map(item => {\n        if (item.name === action.item.name) {\n          item.amount += action.item.amount;\n        }\n        return item;\n      });\n    }\n    return [...state, action.item];\n  }\n\n  //   if (action.type === \"ITEM_REMOVED\") {\n  //     for (let item of state) {\n  //       if (item.name === action.item.name) {\n  //         item.amount += action.item.amount;\n  //         if (item.amount < 1) {\n  //           state.splice(\n  //             state.findIndex((obj) => obj.name === item.name),\n  //             1\n  //           );\n  //         }\n  //         return state;\n  //       }\n  //     }\n  //     return state;\n  //   }\n\n  if (action.type === \"ITEM_REMOVED\") {\n    if (state.some(item => item.name === action.item.name)) {\n      const newArray = state.map(item => {\n        if (item.name === action.item.name) {\n          item.amount += action.item.amount;\n        }\n        return item;\n      });\n      return newArray.filter(item => item.amount > 0);\n    }\n    return state;\n  }\n  if (action.type === \"ORDER_PLACED\") {\n    console.log(\"Ordering\", state);\n    return [];\n  }\n};\nexport const CartContextProvider = props => {\n  _s();\n  const [currentItems, dispatchCurrentItems] = useReducer(currentItemsReducer, []);\n  const [placedOrder, setPlacedOrder] = useState(false);\n  const addItemHandler = item => {\n    dispatchCurrentItems({\n      type: \"ITEM_ADDED\",\n      item: item\n    });\n  };\n  const removeItemHandler = item => {\n    dispatchCurrentItems({\n      type: \"ITEM_REMOVED\",\n      item: item\n    });\n  };\n  const placeOrderHandler = () => {\n    dispatchCurrentItems({\n      type: \"ORDER_PLACED\"\n    });\n    setPlacedOrder(true);\n  };\n  return /*#__PURE__*/_jsxDEV(cartContext.Provider, {\n    value: {\n      currentItems: currentItems,\n      onAddItem: addItemHandler,\n      onRemoveItem: removeItemHandler,\n      onPlaceOrder: placeOrderHandler,\n      placedOrder: placedOrder,\n      setPlacedOrder: setPlacedOrder\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n};\n_s(CartContextProvider, \"Vj11z1VddOv7IbOxs0LvJgf7ZZk=\");\n_c = CartContextProvider;\nexport default cartContext;\nvar _c;\n$RefreshReg$(_c, \"CartContextProvider\");","map":{"version":3,"names":["React","useReducer","useState","jsxDEV","_jsxDEV","cartContext","createContext","currentItems","onAddItem","item","onRemoveItem","onPlaceOrder","placedOrder","setPlacedOrder","currentItemsReducer","state","action","type","some","name","map","amount","newArray","filter","console","log","CartContextProvider","props","_s","dispatchCurrentItems","addItemHandler","removeItemHandler","placeOrderHandler","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/hegichristian/Documents/ReactCompleteGuide/FoodDeliveryTest/FoodDeliveryOwn/src/store/shopping-cart-context.js"],"sourcesContent":["import React, { useReducer, useState } from \"react\";\n\nconst cartContext = React.createContext({\n  currentItems: [],\n  onAddItem: (item) => {},\n  onRemoveItem: (item) => {},\n  onPlaceOrder: () => {},\n  placedOrder: false,\n  setPlacedOrder: () => {},\n});\n\nconst currentItemsReducer = (state, action) => {\n//   if (action.type === \"ITEM_ADDED\") {\n//     for (let item of state) {\n//       if (item.name === action.item.name) {\n//         item.amount += action.item.amount;\n//         return state;\n//       }\n//     }\n//     state.push(action.item);\n//     return state;\n//   }\n\n  if (action.type === \"ITEM_ADDED\") {\n    if (state.some(item => item.name === action.item.name)) {\n      return state.map((item) => {\n        if (item.name === action.item.name) {\n          item.amount += action.item.amount;\n        }\n        return item;\n      });\n    } \n    return [ ...state, action.item ]\n    \n  }\n\n//   if (action.type === \"ITEM_REMOVED\") {\n//     for (let item of state) {\n//       if (item.name === action.item.name) {\n//         item.amount += action.item.amount;\n//         if (item.amount < 1) {\n//           state.splice(\n//             state.findIndex((obj) => obj.name === item.name),\n//             1\n//           );\n//         }\n//         return state;\n//       }\n//     }\n//     return state;\n//   }\n\nif (action.type === \"ITEM_REMOVED\") {\n    if (state.some(item => item.name === action.item.name)) {\n        const newArray = state.map((item) => {\n          if (item.name === action.item.name) {\n            item.amount += action.item.amount;\n          }\n          return item;\n        });\n        return newArray.filter(item => item.amount > 0);\n      } \n    return state;\n  }\n\n  if (action.type === \"ORDER_PLACED\") {\n    console.log(\"Ordering\", state);\n    return [];\n  }\n};\n\nexport const CartContextProvider = (props) => {\n  const [currentItems, dispatchCurrentItems] = useReducer(\n    currentItemsReducer,\n    []\n  );\n  const [placedOrder, setPlacedOrder] = useState(false);\n\n  const addItemHandler = (item) => {\n    dispatchCurrentItems({ type: \"ITEM_ADDED\", item: item });\n  };\n  const removeItemHandler = (item) => {\n    dispatchCurrentItems({ type: \"ITEM_REMOVED\", item: item });\n  };\n\n  const placeOrderHandler = () => {\n    dispatchCurrentItems({ type: \"ORDER_PLACED\" });\n    setPlacedOrder(true);\n  };\n\n  return (\n    <cartContext.Provider\n      value={{\n        currentItems: currentItems,\n        onAddItem: addItemHandler,\n        onRemoveItem: removeItemHandler,\n        onPlaceOrder: placeOrderHandler,\n        placedOrder: placedOrder,\n        setPlacedOrder: setPlacedOrder,\n      }}\n    >\n      {props.children}\n    </cartContext.Provider>\n  );\n};\nexport default cartContext;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}